---
layout: default
---
<h1>Documentation</h1>

<br>
<a name="contents"></a>
<br>
<h2>Contents</h2>

<ul>
  <li><a href="#key-bindings">Key bindings</a></li>
  <li><a href="#mouse-bindings">Mouse bindings</a></li>
  <li><a href="#multilingual-input">Multilingual input</a></li>
  <li><a href="#emoji-predictions">Unicode symbols and emoji predictions</a></li>
  <li><a href="#related-words-nltk">Using NLTK to find related words</a></li>
</ul>

<br>
<a name="key-bindings"></a>
<br>
<h2>Key bindings</h2>

<table border="2" cellspacing="10" cellpadding="10">
<thead>
<tr>
<th>Key combination</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td>Space</td>
<td>
  Commit the preëdit (or the selected candidate, if any) and send a
  space to the application, i.e. commit the typed string followed by a
  space.
</td>
</tr>
<tr>
<td>Return</td>
<td>
  Commit the preëdit (or the selected candidate, if any) and send a
  Return to the application.
</td>
</tr>
<tr>
<td>Enter</td>
<td>
  Commit the preëdit (or the selected candidate, if any) and send a
  Enter to the application.
</td>
</tr>
<tr>
<td>Tab</td>
<td>
  <ul>
    <li>
      If the option “☐ Enable suggestions by Tab key” is <em>not</em>
      set: “Tab” behaves like the other “commit keys”, i.e. it commits
      the preëdit (or the selected candidate, if any) and sends a Tab
      to the appplication.
    </li>
    <li>
      If the option “☑ Enable suggestions by Tab key” is set, no
      candidate list is shown by default:
      <ul>
        <li>
          If Tab has not yet been typed: Request to show the
          candidate list (nothing might be shown if no candidates can
          be found).
        </li>
        <li>
          If Tab has been typed already, i.e. the candidate list has
          already been requested: Commit selected candidate (or
          preëdit if no candidate is selected), then pass the Tab to
          the application.  *And* hide the candidate list again after
          each commit!  That means that when typing continues after
          each commit, no candidate list is shown until one types Tab
          to request it.
        </li>
      <ul>
    </li>
  </ul>
</td>
</tr>
<tr>
<td>Escape</td>
<td>
  <ul>
    <li>
      When a candidate is selected (no matter whether this is a normal
      lookup table or a “related” lookup table): Show the first page
      of that lookup table again with no candidate selected.
    </li>
    <li>
      When no candidate is selected:
      <ul>
        <li>
          When a lookup table with related candidates is shown: go
          back to the original lookup table.
        </li>
        <li>
          When a normal lookup table is shown: close it and clear the
          preëdit.
        </li>
      </ul>
    </li>
  </ul>
</td>
</tr>
<tr>
<td>Left  (Arrow left)</td>
<td>Move cursor one typed key left in the preëdit text. May trigger a
commit if the left end of the preëdit is reached.</td>
</tr>
<tr>
<td>Control+Left</td>
<td>Move cursor to the left end of the preëdit text. If the cursor is
already at the left end of the preëdit text, trigger a commit and send
a Control+Left to the application.</td>
</tr>
<tr>
<td>Right (Arrow right)</td>
<td>Move cursor one typed key right in preëdit text. May trigger a
commit if the right end of the preëdit is reached.</td>
</tr>
<tr>
<td>Control+Right</td>
<td>Move cursor to the right end of the preëdit text. If the cursor is
already at the right end of the preëdit text, trigger a commit and
send a Control+Right to the application.</td>
</tr>
<tr>
<td>Backspace</td>
<td>Remove the typed key to the left of the cursor in the preëdit
text.</td>
</tr>
<tr>
<td>Control+Backspace</td>
<td>Remove everything to the left of the cursor in the preëdit
text.</td>
</tr>
<tr>
<td>Delete</td>
<td>Remove the typed key to the right of the cursor in the preëdit
text.</td>
</tr>
<tr>
<td>Control+Delete</td>
<td>Remove everything to the right of the cursor in the preëdit
text.</td>
</tr>
<tr>
<td>Down  (Arrow down)</td>
<td>Select the next candidate.</td>
</tr>
<tr>
<td>Up    (Arrow up)</td>
<td>Select the previous candidate.</td>
</tr>
<tr>
<td>Page_Up</td>
<td>Show next page of candidates.</td>
</tr>
<tr>
<td>Page_Down</td>
<td>Show previous page of candidates.</td>
</tr>
<tr>
<td>F1</td>
<td>Commit the candidate with the label “1” followed by a space</td>
</tr>
<tr>
<td>F2</td>
<td>Commit the candidate with the label “2” followed by a space</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td>F9</td>
<td>Commit the candidate with the label “9” followed by a space</td>
</tr>
<tr>
<td>Control+F1</td>
<td>
  Remove the candidate with the label “1” from the database of learned
  user input (If possible, if this candidate is not learned from user
  input, nothing happens).
</td>
</tr>
<tr>
<td>Control+F2</td>
<td>
  Remove the candidate with the label “2” from the database of learned
  user input (If possible, if this candidate is not learned from user
  input, nothing happens).
</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>Control+F9</td>
<td>
  Remove the candidate with the label “9” from the database of learned
  user input (If possible, if this candidate is not learned from user
  input, nothing happens).
</td>
</tr>
<tr>
<td>1 … 9</td>
<td>Same as F1 … F9 if the option “Use digits as select keys” is
enabled. Enabling that option makes selecting candidates a bit easier
because the number keys 1 … 9 are closer to the fingers then F1 … F9 on
most keyboards. On the other hand, it makes completing when typing
numbers impossible and it makes typing strings which are combinations
of letters and numbers like “A4” more difficult. If digits are used as
select keys, numbers can only be typed when no candidate list is
shown. In most cases this means that numbers can only be typed when
nothing else has been typed yet and the preëdit is empty.</td>
</tr>
<tr>
<td>Control+1 … Control+9</td>
<td>Same as Control+F1 … Control+F9 if the option “Use digits as
select keys” is enabled.
</td>
</tr>
<tr>
<td>AltGr+F12</td>
<td>
  Show related <a href="#emoji-predictions">emoji and Unicode symbols</a>
  or <a href="#related-words-nltk">related words</a>
</td>
</tr>
<tr>
<td>AltGr+Space</td>
<td>Insert a literal space into the preëdit.
</td>
</tr>
</tbody>
</table>

<br>
<p>When more than one input method at the same time is used, the
following additional key bindings are available:</p>

<table border="2" cellspacing="10" cellpadding="10">
<thead>
<tr>
<th>Key combination</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td>Control+Down</td>
<td>Switch input method used for the preëdit to the next input
method</td>
</tr>
<tr>
<td>Control+Up</td>
<td>Switch input method used for the preëdit to the previous input
method.</td>
</tr>
</tbody>
</table>

<br>
<a name="mouse-bindings"></a>
<br>
<h2>Mouse bindings</h2>

<table border="2" cellspacing="10" cellpadding="10">
<thead>
<tr>
<th>Mouse event</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr>
  <td>Button 1 click on a candidate</td>
  <td>
    Commit the candidate clicked on followed by a space (Same as
    F1…F9).
  </td>
</tr>
<tr>
  <td>Control + Button 1 click on a candidate</td>
  <td>
    Remove clicked candidate from database of learned user input (If
    possible, if this candidate is not learned from user input,
    nothing happens).
  </td>
</tr>
<tr>
  <td>Button 3 click on a candidate</td>
  <td>
    Show related <a href="#emoji-predictions">emoji and Unicode symbols</a>
    or <a href="#related-words-nltk">related words</a> (Same as
    Alt+F12).
  </td>
</tr>
</tbody>
</table>

<br>
<a name="multilingual-input"></a>
<br>
<h2>Multilingual input</h2>

<img style="float:left; margin-right:20px; margin-bottom:10px" src="images/hindi-english-example.png" alt="Hindi and English example">

<p>ibus-typing-booster supports using more than one input
method/transliteration at the same time.</p>

<p>For example, if one uses the ibus-typing-booster engine “mr-IN”,
i.e. the engine for the Indian language Marathi, one can select one of
the Marathi input methods mr-itrans, mr-phonetic, mr-inscript, and
mr-inscript2 in the setup tool. Keys typed will be transliterated
using the selected transliteration method and looked up in the mr_IN
hunspell dictionary and the user database of previous input.</p>

<p>To add English as a second language to use at the same time, one
can use the check box option “Add direct input” in the setup tool. If
that option is selected, direct keyboard input is added as a second
input method and the en_GB (British English) dictionary is added as a
second dictionary in addition to the mr_IN dictionary.</p>

<p>If more than one input/transliteration method is enabled, the typed
keys will will be transliterated with each transliteration method and
each result will be looked up in the enabled dictionaries and in the
user database of previous input.</p>

<p>That way, to type English, one does not have to switch off the
Marathi engine of ibus-typing-booster, one can just type and suitable
English candidates will show up as well in the candidate list. After
typing a few characters, Marathi input is unlikely to match English
candidates and English input is unlikely to match Marathi
candidates. This works even better after ibus-typing-booster has
learned a while from the user input because ibus-typing-booster tries
to complete the currently typed word by also using the last few words
typed before as additional information. Therefore, if the user types a
combination of words again he has already typed previously, the
prediction for the currently typed word will be much better.</p>

<p>Using the setup tool it is currently only possible to add British
English as a second language to the main language of an
ibus-typing-booster engine.</p>

<p>But internally, ibus-typing-booser already supports any combination
of input methods and dictionaries, only the setup tool is not yet able
to set this up. It can be done by setting the appropriate dconf keys
manually though.</p>

<p>Example:</p>

<p>Setting three input/transliteration methods:</p>

<p><pre><code>$ dconf write /desktop/ibus/engine/typing-booster/typing-booster-mr-in/inputmethod '"mr-itrans,t-latn-post,NoIme"'</code></pre></p>

<p>sets the three transliteration methods, “mr-itrans” (Marathi Itrans),
“t-latn-post” (A postscript input method to type accented Latin
characters, e.g. typing “u"” will produce “ü”), and “NoIme” (direct
keyboard input without any transliteration).</p>

<p>Setting 3 dictionaries:</p>

<p><pre><code>$ dconf write /desktop/ibus/engine/typing-booster/typing-booster-mr-in/dictionary '"mr_IN,en_GB,de_DE"'</code></pre></p>

<p>sets the Marathi, the British English,and the German dictionary.</p>

<br>
<a name="emoji-predictions"></a>
<br>
<h2>Unicode symbols and emoji predictions</h2>

<img style="float:left; margin-right:20px; margin-bottom:10px" src="images/emoji-castle.png" alt="Emoji example when typing “castle”">

<p>ibus-typing-booster supports prediction of emoji as well.  This can
be enabled or disabled with the option “Emoji predictions” seen in the
screen shot (on by default).</p>

<p>The screen shot shows coloured emoji, to make that work
an <a href="http://www.hadess.net/2016/05/blog-backlog-post-1-emoji.html">experimental
patch for cairo</a> and a suitable font is needed. If this is not
installed, the emoji support in ibus-typing-booster will still work
but the emoji will be displayed in black and white. A good black and
white font for emoji is
the <a href="http://users.teilar.gr/~g1951d/">Symbola</a> font by
George Douros (also available as a package for Fedora). Best use the
latest version updated for Unicode 9.0.0.</p>

<p>In the screen shot, the emoji 🏰 (U+1F3F0 EUROPEAN CASTLE) is shown
as the last candidate in the first page when the text “castle” is
typed. If reasonable matches for emoji are found, the first match is
shown as the last candidate in the first page. If more than one emoji
has matched the input, the other matches can be found by scrolling
down the candidate page. If an emoji is selected and committed, it
will be remembered just like ibus-typing-booster remembers other words
and will be shown with higher priority next time.</p>

<img style="float:left; margin-right:20px; margin-bottom:10px" src="images/emoji-castle-related.png" alt="Example for looking up related emoji for “castle”">

<p>It is also possible to look up related emoji which may not have
matched the typed text well but are related to the emoji shown because
they share keywords or categories. To show related emoji, select an
emoji in the candidate list by moving up or down in the candidate list
using the arrow-up/arrow-down keys or the page-up/page-down keys until
the desired emoji is highlighted, then press Alt+F12. As seen in the
screen shot, emoji for other types of castles or buildings are then
shown. The lists of words shown in square brackets are the keywords
the shown emoji have in common with the originally selected emoji. By
typing the “Escape” key, one can go back to the original list.</p>

<p>By the way, the related emoji shown in the screen shot have German
names and keywords. That’s because I am using German as the main
language for ibus-typing-booster here with English as a second
language (See <a href="#multilingual-input">Multilingual
input</a>). Because I am using English as a second language, the input
text “castle” did match (The German equivalent “Schloss” would have
matched as well). When looking up related emoji, they are shown in all
languages ibus-typing-booster is setup to use, but they are sorted in
the order of preference of the languages. So German is on top because
it is the main language, English matches for related emoji are
further down in the candidate list.</p>

<p>The following screenshot shows another example using Hindi as the
main language and English as a second language:</p>

<img style="float:left; margin-right:20px; margin-bottom:10px" src="images/emoji-namaste.png" alt="Emoji example when typing “namaste”">

<p>With Hindi as well, one can highlight the emoji which matched
the typed string नमस्ते (“namaste”) and show related emoji:</p>

<img style="float:left; margin-right:20px; margin-bottom:10px" src="images/emoji-namaste-related.png" alt="Example for looking up related emoji for “namaste”">

<p>Two emoji in the candidate list in the screen shot are shown in
black and white because they are missing in the coloured emoji font
and a black and white font is used as a fallback.</p>

<br>
<a name="related-words-nltk"></a>
<br>
<h2>Using NLTK to find related words</h2>

<img style="float:left; margin-right:20px; margin-bottom:10px" src="images/castle-word-related.png" alt="Example for looking up related words for “castle”">

<p>ibus-typing-booster can also find words which are related to any of
the candidates displayed. To show related words for a candidate, move
up or down in the candidate list using the arrow-up/arrow-down keys or
the page-up/page-down keys until the desired emoji is highlighted,
then press Alt+F12 (When Alt+F12 is pressed <emph>before</emph> moving
in the candidate list, i.e. when no candidate at all is highlighted in
the candidate list, the word from the preëdit is used to lookup
related words). In the screen shot shown, “castle” was typed followed
by Alt+F12 and synonyms for “castle” are displayed. hypernyms or
hyponyms may also be displayed.</p>

<p>Looking up related words like this currently only works for
English. When trying to find related words for non-English words,
nothing will happen.</p>

<p>The lookup of related words uses NLTK and will only work when NLTK
for Python3 and the wordnet corpus for NLTK are installed. On Fedora,
you can install it like this:</p>

<p><pre><code>
      sudo dnf install python3-nltk
      python3
      import nltk
      nltk.download()
</code></pre></p>

<p>A download tool for NLTK data as seen in the next screen shot
opens, select the wordnet corpus and click the “Download” button:</p>

<img style="float:left; margin-right:20px; margin-bottom:10px" src="images/nltk-wordnet-corpus-download.png" alt="wordnet corpus download for NLTK">

